{"version":3,"sources":["Product/Product.js","Cart/index.js","Home/Home.js","App.js","index.js"],"names":["Product","item","onClick","addCart","cart","onRemove","isAdded","map","items","id","className","includes","alt","title","src","image","length","slice","description","price","category","Cart","setaddCart","reduce","prevPrice","cartItems","Math","round","filter","Home","useState","isLoading","setIsLoading","error","setError","selectedCategory","setSelectedCategory","selectedCategoryData","setSelectedCategoryData","categories","setCategories","data","setData","loadProducts","useCallback","a","fetch","response","ok","Error","statusText","json","sessionStorage","setItem","JSON","stringify","loadCategories","useEffect","getItem","parse","options","val","push","value","label","onChange","selectedOption","selected","prod","placeholder","e","finalData","toLowerCase","indexOf","target","React","memo","App","to","activeStyle","color","exact","path","from","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.0747f667.chunk.js","sourcesContent":["import React from 'react';\nimport './Product.css';\n\nconst Product = ({ item, onClick, addCart, cart, onRemove }) => {\n  const isAdded = addCart.map((items) => items.id === item.id);\n  return (\n    <div className=\"Product\">\n      <div className=\"Product__add\">\n        {!cart && (\n          <button onClick={isAdded.includes(true) ? onRemove : onClick}>\n            {isAdded.includes(true) ? 'Remove From Cart' : 'Add To Cart'}\n          </button>\n        )}\n      </div>\n      <div className=\"Product__img\">\n        <img alt={item.title} src={item.image} />\n      </div>\n      <h2 className=\"Product__title\">\n        {item.title.length > 50 ? `${item.title.slice(0, 50)}...` : item.title}\n      </h2>\n      <h2 className=\"Product__brand\">\n        {item.description.length > 100\n          ? `${item.description.slice(0, 100)}...`\n          : item.description}\n      </h2>\n      <div className=\"Product__description\">\n        <ul>\n          <li>Price: {item.price}</li>\n          <li>Category: {item.category}</li>\n        </ul>\n      </div>\n      {cart && (\n        <div className=\"Product__add\">\n          <button onClick={onRemove}>Remove From Cart</button>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default Product;\n","import React from 'react';\nimport '../Home/Home.css';\nimport Product from '../Product/Product';\n\nconst Cart = ({ addCart, setaddCart }) => {\n  const onRemove = (item) => {\n    setaddCart(() => addCart.filter((cartItems) => cartItems.id !== item.id));\n  };\n  const getPrice = () => {\n    return addCart?.reduce(\n      (prevPrice, cartItems) =>\n        Math.round((prevPrice + cartItems.price) * 100) / 100,\n      0\n    );\n  };\n\n  const clearCart = () => {\n    setaddCart([]);\n  };\n\n  return (\n    <>\n      <div className=\"Search\">Total Price: {getPrice()}</div>\n      <button className=\"Clear-cart\" onClick={clearCart}>\n        Clear Cart\n      </button>\n      <div className=\"Home\">\n        {addCart.length > 0 ? (\n          addCart.map((item) => (\n            <Product\n              cart\n              key={item.id}\n              item={item}\n              addCart={addCart}\n              onClick={() => setaddCart(() => [...addCart, item])}\n              onRemove={() => onRemove(item)}\n            />\n          ))\n        ) : (\n          <p>Add some items in the cart</p>\n        )}\n      </div>\n    </>\n  );\n};\n\nexport default Cart;\n","import React, { useEffect, useState, useCallback } from 'react';\nimport './Home.css';\nimport Dropdown from 'react-dropdown';\nimport Product from '../Product/Product';\nimport 'react-dropdown/style.css';\n\nconst Home = ({ addCart, setaddCart }) => {\n  const [isLoading, setIsLoading] = useState(false);\n  const [error, setError] = useState(null);\n  const [selectedCategory, setSelectedCategory] = useState(null);\n  const [selectedCategoryData, setSelectedCategoryData] = useState(null);\n  const [categories, setCategories] = useState(null);\n  const [data, setData] = useState(null);\n\n  const loadProducts = useCallback(async () => {\n    setIsLoading(true);\n    setError(null);\n    try {\n      const response = await fetch('https://fakestoreapi.com/products');\n      if (!response.ok) {\n        throw Error(response.statusText);\n      }\n      const json = await response.json();\n      setData(json);\n      setIsLoading(false);\n      sessionStorage.setItem('products', JSON.stringify(json));\n    } catch (err) {\n      setError(err);\n    }\n  }, []);\n\n  const loadCategories = useCallback(async () => {\n    setIsLoading(true);\n    setError(null);\n\n    try {\n      const response = await fetch(\n        'https://fakestoreapi.com/products/categories'\n      );\n      if (!response.ok) {\n        throw Error(response.statusText);\n      }\n      const json = await response.json();\n      setCategories(json);\n      setIsLoading(false);\n      sessionStorage.setItem('category', JSON.stringify(json));\n    } catch (err) {\n      setError(err);\n    }\n  }, []);\n\n  useEffect(() => {\n    if (!sessionStorage.getItem('products')) {\n      loadProducts();\n      loadCategories();\n    } else {\n      setData(JSON.parse(sessionStorage.getItem('products')));\n      setCategories(JSON.parse(sessionStorage.getItem('category')));\n    }\n  }, []);\n\n  const filterResult = (e) => {\n    const finalData = data?.filter((prod) => {\n      return (\n        prod.title.toLowerCase().indexOf(e.target.value.toLowerCase()) !== -1\n      );\n    });\n    setSelectedCategoryData(finalData);\n  };\n\n  const options = [];\n  if (categories) {\n    for (const val in categories) {\n      options.push({ value: categories[val], label: categories[val] });\n    }\n  }\n  const handleChange = (selectedOption) => {\n    const selected = data?.filter((prod) => {\n      return prod.category === selectedOption.value;\n    });\n    setSelectedCategory(selectedOption);\n    setSelectedCategoryData(selected);\n  };\n\n  const onRemove = (item) => {\n    setaddCart(() => addCart.filter((cartItems) => cartItems.id !== item.id));\n  };\n\n  if (isLoading) return 'Loading...';\n  if (error) return 'Some error occured. Please try again later...';\n\n  return (\n    <>\n      <div className=\"Search\">\n        <div className=\"Dropdown\">\n          <Dropdown\n            options={options}\n            onChange={handleChange}\n            placeholder=\"Select a category\"\n            value={selectedCategory}\n          />\n        </div>\n        <input placeholder=\"Search Here...\" onChange={filterResult} />\n      </div>\n      <div className=\"Home\">\n        {data && (\n          <>\n            {selectedCategoryData\n              ? selectedCategoryData.map((item) => {\n                  return (\n                    <Product\n                      key={item.id}\n                      item={item}\n                      addCart={addCart}\n                      onClick={() => setaddCart(() => [...addCart, item])}\n                      onRemove={() => onRemove(item)}\n                    />\n                  );\n                })\n              : data.map((item) => {\n                  return (\n                    <Product\n                      key={item.id}\n                      item={item}\n                      addCart={addCart}\n                      onClick={() => setaddCart(() => [...addCart, item])}\n                      onRemove={() => onRemove(item)}\n                    />\n                  );\n                })}\n          </>\n        )}\n      </div>\n    </>\n  );\n};\n\nexport default React.memo(Home);\n","import React, { useState } from 'react';\nimport './App.css';\nimport Cart from './Cart';\nimport Home from './Home/Home';\nimport { NavLink, Redirect, Route, Switch } from 'react-router-dom';\n\nconst App = () => {\n  const [addCart, setaddCart] = useState([]);\n  return (\n    <div className=\"App\">\n      <div className=\"App__header\">\n        <div className=\"App__navbar\">\n          <ul>\n            <NavLink to=\"/cart\" activeStyle={{ color: '#000' }}>\n              Cart\n            </NavLink>\n            <NavLink to=\"/home\" activeStyle={{ color: '#000' }}>\n              Home\n            </NavLink>\n          </ul>\n        </div>\n      </div>\n      <hr />\n      <Switch>\n        <Route exact path=\"/cart\">\n          <Cart addCart={addCart} setaddCart={setaddCart} />\n        </Route>\n        <Route exact path=\"/home\">\n          <Home addCart={addCart} setaddCart={setaddCart} />\n        </Route>\n        <Redirect from=\"/\" to=\"/home\" />\n      </Switch>\n      <div className=\"Footer\">Made with love❤️ by RAHUL BANSAL!</div>\n    </div>\n  );\n};\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport { BrowserRouter } from 'react-router-dom';\n\nReactDOM.render(\n  <BrowserRouter>\n    <React.StrictMode>\n      <App />\n    </React.StrictMode>\n  </BrowserRouter>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}